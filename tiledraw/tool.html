<!DOCTYPE html>
<!-- https://www.w3schools.com/tags/ref_canvas.asp, https://stackoverflow.com/questions/55677/how-do-i-get-the-coordinates-of-a-mouse-click-on-a-canvas-element/18053642#18053642 -->

<style>
    canvas{
        border: 2px solid #d3d3d3;;
        border-color: black;
    }
</style>
<title>TileDraw</title>
<h1>TileDraw</h1>
<img id=tilemap src=tilemap.png>
<canvas id="canvas" width="400" height="400"></canvas>
<button id=save>Save</button><button id=restore>restore</button>
<script>
var c = document.getElementById("canvas");
var ctx = c.getContext("2d");
var img = document.getElementById("tilemap");

canvas.onclick = function(e) {

  const rect = canvas.getBoundingClientRect()
  const x = event.clientX - rect.left
  const y = event.clientY - rect.top
  console.log("x: " + x + " y: " + y)
  ctx.drawImage(img, 16, 16, 32, 32, x, y, 32, 32)
}
    
save.onclick = function(e) {
	ctx.save()
}
    
restore.onclick = function(e) {
	ctx.restore()
}
</script>
